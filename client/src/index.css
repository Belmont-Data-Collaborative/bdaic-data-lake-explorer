@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(0, 0%, 9%);
  --muted: hsl(210, 40%, 96%);
  --muted-foreground: hsl(215, 16%, 37%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(0, 0%, 9%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(0, 0%, 9%);
  --border: hsl(214, 32%, 91%);
  --input: hsl(214, 32%, 91%);
  --primary: hsl(210, 82%, 41%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(210, 40%, 96%);
  --secondary-foreground: hsl(222, 84%, 5%);
  --accent: hsl(210, 40%, 96%);
  --accent-foreground: hsl(222, 84%, 5%);
  --destructive: hsl(0, 84%, 45%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: hsl(210, 82%, 41%);
  --radius: 0.5rem;

  /* WCAG AA compliant color palette */
  --primary-50: hsl(210, 100%, 98%);
  --primary-100: hsl(210, 92%, 95%);
  --primary-200: hsl(210, 94%, 87%);
  --primary-300: hsl(210, 95%, 78%);
  --primary-400: hsl(210, 93%, 68%);
  --primary-500: hsl(210, 82%, 51%);
  --primary-600: hsl(210, 82%, 41%);
  --primary-700: hsl(210, 76%, 32%);
  --primary-800: hsl(210, 72%, 25%);
  --primary-900: hsl(210, 65%, 18%);

  --accent-50: hsl(194, 100%, 97%);
  --accent-100: hsl(194, 92%, 94%);
  --accent-200: hsl(194, 94%, 85%);
  --accent-300: hsl(194, 95%, 75%);
  --accent-400: hsl(194, 93%, 62%);
  --accent-500: hsl(194, 82%, 45%);
  --accent-600: hsl(194, 85%, 35%);
  --accent-700: hsl(194, 78%, 28%);
  --accent-800: hsl(194, 72%, 22%);
  --accent-900: hsl(194, 65%, 17%);
}

.dark {
  --background: hsl(222, 84%, 5%);
  --foreground: hsl(210, 40%, 98%);
  --muted: hsl(217, 32%, 17%);
  --muted-foreground: hsl(215, 20%, 65%);
  --popover: hsl(222, 84%, 5%);
  --popover-foreground: hsl(210, 40%, 98%);
  --card: hsl(222, 84%, 5%);
  --card-foreground: hsl(210, 40%, 98%);
  --border: hsl(217, 32%, 17%);
  --input: hsl(217, 32%, 17%);
  --primary: hsl(210, 82%, 60%);
  --primary-foreground: hsl(222, 84%, 5%);
  --secondary: hsl(217, 32%, 17%);
  --secondary-foreground: hsl(210, 40%, 98%);
  --accent: hsl(217, 32%, 17%);
  --accent-foreground: hsl(210, 40%, 98%);
  --destructive: hsl(0, 75%, 60%);
  --destructive-foreground: hsl(210, 40%, 98%);
  --ring: hsl(212, 72%, 59%);
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    overflow-x: hidden;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }
}

/* Custom utility classes for primary and accent colors */
@layer utilities {
  .bg-primary-50 { background-color: var(--primary-50); }
  .bg-primary-100 { background-color: var(--primary-100); }
  .bg-primary-200 { background-color: var(--primary-200); }
  .bg-primary-300 { background-color: var(--primary-300); }
  .bg-primary-400 { background-color: var(--primary-400); }
  .bg-primary-500 { background-color: var(--primary-500); }
  .bg-primary-600 { background-color: var(--primary-600); }
  .bg-primary-700 { background-color: var(--primary-700); }
  .bg-primary-800 { background-color: var(--primary-800); }
  .bg-primary-900 { background-color: var(--primary-900); }

  .text-primary-50 { color: var(--primary-50); }
  .text-primary-100 { color: var(--primary-100); }
  .text-primary-200 { color: var(--primary-200); }
  .text-primary-300 { color: var(--primary-300); }
  .text-primary-400 { color: var(--primary-400); }
  .text-primary-500 { color: var(--primary-500); }
  .text-primary-600 { color: var(--primary-600); }
  .text-primary-700 { color: var(--primary-700); }
  .text-primary-800 { color: var(--primary-800); }
  .text-primary-900 { color: var(--primary-900); }

  .bg-accent-50 { background-color: var(--accent-50); }
  .bg-accent-100 { background-color: var(--accent-100); }
  .bg-accent-200 { background-color: var(--accent-200); }
  .bg-accent-300 { background-color: var(--accent-300); }
  .bg-accent-400 { background-color: var(--accent-400); }
  .bg-accent-500 { background-color: var(--accent-500); }
  .bg-accent-600 { background-color: var(--accent-600); }
  .bg-accent-700 { background-color: var(--accent-700); }
  .bg-accent-800 { background-color: var(--accent-800); }
  .bg-accent-900 { background-color: var(--accent-900); }

  .text-accent-50 { color: var(--accent-50); }
  .text-accent-100 { color: var(--accent-100); }
  .text-accent-200 { color: var(--accent-200); }
  .text-accent-300 { color: var(--accent-300); }
  .text-accent-400 { color: var(--accent-400); }
  .text-accent-500 { color: var(--accent-500); }
  .text-accent-600 { color: var(--accent-600); }
  .text-accent-700 { color: var(--accent-700); }
  .text-accent-800 { color: var(--accent-800); }
  .text-accent-900 { color: var(--accent-900); }
}

/* Animation utilities */
@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-down {
    animation: slideDown 0.3s ease-out;
  }

  .animate-pulse-soft {
    animation: pulseSoft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

/* WCAG Accessibility utilities */
@layer utilities {
  /* High contrast text combinations - WCAG AA compliant (4.5:1 ratio) */
  .text-contrast-high {
    color: hsl(0, 0%, 9%);
  }
  
  .text-contrast-medium {
    color: hsl(215, 16%, 35%);
  }
  
  .text-contrast-muted {
    color: hsl(215, 16%, 47%);
  }

  /* Status colors with proper contrast */
  .text-success {
    color: hsl(142, 71%, 24%);
  }
  
  .text-warning {
    color: hsl(32, 95%, 32%);
  }
  
  .text-error {
    color: hsl(0, 84%, 35%);
  }
  
  .text-info {
    color: hsl(210, 82%, 35%);
  }

  /* Background colors with proper foreground contrast */
  .bg-success {
    background-color: hsl(142, 71%, 45%);
    color: hsl(0, 0%, 100%);
  }
  
  .bg-warning {
    background-color: hsl(32, 95%, 50%);
    color: hsl(0, 0%, 100%);
  }
  
  .bg-error {
    background-color: hsl(0, 84%, 45%);
    color: hsl(0, 0%, 100%);
  }
  
  .bg-info {
    background-color: hsl(210, 82%, 41%);
    color: hsl(0, 0%, 100%);
  }

  /* Interactive states with enhanced contrast */
  .interactive-focus {
    outline: 2px solid hsl(210, 82%, 41%);
    outline-offset: 2px;
  }

  /* Ensure minimum touch targets (44px) */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Overflow prevention utilities */
  .overflow-safe {
    overflow-x: hidden;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .text-ellipsis {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .text-break {
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  .container-safe {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Responsive text utilities */
  .text-responsive {
    font-size: clamp(0.875rem, 2.5vw, 1rem);
  }

  .text-responsive-sm {
    font-size: clamp(0.75rem, 2vw, 0.875rem);
  }

  .text-responsive-lg {
    font-size: clamp(1rem, 3vw, 1.25rem);
  }

  /* Responsive grid utilities */
  .grid-responsive {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
    gap: 1rem;
  }

  .grid-responsive-sm {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 200px), 1fr));
    gap: 0.75rem;
  }

  /* Chart container utilities */
  .chart-container {
    position: relative;
    width: 100%;
    max-width: 100%;
    overflow: hidden;
  }

  .chart-responsive {
    width: 100% !important;
    height: auto !important;
    max-width: 100%;
  }

  /* Modal and dialog utilities */
  .modal-container {
    max-height: 100vh;
    max-width: 100vw;
    overflow: hidden;
  }

  .modal-content {
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
    overflow-x: hidden;
  }

  /* Screen reader only text */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only.focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

@keyframes fadeIn {
  0% { 
    opacity: 0; 
    transform: translateY(10px); 
  }
  100% { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slideDown {
  0% { 
    opacity: 0; 
    transform: translateY(-10px); 
  }
  100% { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes pulseSoft {
  0%, 100% { 
    opacity: 1; 
  }
  50% { 
    opacity: 0.8; 
  }
}
